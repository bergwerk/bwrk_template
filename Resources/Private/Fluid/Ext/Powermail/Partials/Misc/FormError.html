{namespace vh=In2code\Powermail\ViewHelpers}

<f:form.validationResults>
   <f:if condition="{validationResults.flattenedErrors}">
      <div class="powermail_message">
         <f:for each="{validationResults.flattenedErrors}" as="errors">
            <f:for each="{errors}" as="singleError">
               <div class="alert alert-danger">
                  <f:if condition="{singleError.code}">
                     <f:if
                        condition="{vh:Getter.GetFieldPropertyFromMarkerAndForm(marker:singleError.code, form:form, property:'title')}">
                        <f:then>
                           <vh:Getter.GetFieldPropertyFromMarkerAndForm marker="{singleError.code}" form="{form}" property="title"/>:
                        </f:then>
                        <f:else>
                           <f:translate key="validationerror_spam"/>
                           {singleError.code}
                        </f:else>
                     </f:if>
                  </f:if>

                  <f:translate key="validationerror_{singleError.message}">{singleError.message}</f:translate>
               </div>
            </f:for>
         </f:for>
      </div>
   </f:if>
</f:form.validationResults>